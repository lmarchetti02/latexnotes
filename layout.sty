\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{layout}[2025/02/26 Section formatting and page layout]

\RequirePackage[dvipsnames]{xcolor}
\RequirePackage{sectsty}
\RequirePackage{titlesec}
\RequirePackage{tocloft}

% Add vertical space before sections
\titlespacing{\section}{0pt}{1cm}{1em}			% {left}{before-sep}{after-sep}
\titlespacing{\subsection}{0pt}{0.5cm}{0.5em}

% Part customization
\titleformat{\part}[display]
{\normalfont\LARGE\bfseries\color{BrickRed}}{\partname \ \thepart}
{0pt}
{\Huge\bfseries}[\titlerule\thispagestyle{empty}]

% Chapter customization
\titleformat{\chapter}[frame]
{\normalfont\color{BrickRed}}
{\filright
	\normalsize
	\enspace CHAPTER \thechapter\enspace}
{8pt}
{\huge\bfseries\color{BrickRed}\filcenter}

% Section customization
\titleformat{\section}
{\normalfont\LARGE\bfseries\color{BrickRed}}
{\thesection}{1em}{}

% Subsection customization
\titleformat{\subsection}
{\normalfont\Large\bfseries\color{BrickRed}}
{\thesubsection}{1em}{}

% Subsubsection customization
\titleformat{\subsubsection}
{\normalfont\large\bfseries\color{BrickRed}}
{\thesubsubsection}{1em}{}

% Headers and footers
\usepackage{fancyhdr}
\usepackage[hang,flushmargin]{footmisc}         % footnotes
\pagestyle{fancy}                               % All pages have headers and footers

\fancyhead{}                                    % Blank out the default header
\fancyfoot{}                                    % Blank out the default footer
\fancyhead[C]{\leftmark}						% Custom header text
\fancyfoot[C]{\thepage}							% Custom footer text

% Toc, lof, lot
\renewcommand{\cftpartafterpnum}{%
	\par\nopagebreak%   
	\vskip0.5ex\hrule%  
}

\renewcommand{\cfttoctitlefont}{\huge\bfseries\color{BrickRed}}
\renewcommand{\cftloftitlefont}{\huge\bfseries\color{BrickRed}}
\renewcommand{\cftlottitlefont}{\huge\bfseries\color{BrickRed}}

% Preface/Abstract
\newcommand{\makeabstract}[2]{
	\thispagestyle{empty}
	\textbf{\huge\color{BrickRed} #1}

	\vspace{1cm}

	\noindent #2
}

\endinput

